{"version":3,"names":[],"mappings":"","sources":["readmore.js"],"sourcesContent":["$(document).ready(function () {\r\n\r\n    var productDescription = $('.js-readmore');\r\n    var productDescriptionHeight = '';\r\n\r\n    function readMoreInit() {\r\n        var childHeight = [],\r\n            childWidth = [];\r\n\r\n        // if($(productDescription).hasClass('active')) return;\r\n\r\n        $(productDescription).children().each(function (indx, element) {\r\n            console.log($(element).hasClass('readmore_btn'));\r\n            if (!$(element).hasClass('readmore_btn')) {\r\n                childHeight.push($(element).outerHeight());\r\n                childWidth.push($(element).outerWidth());\r\n            }\r\n        });\r\n        console.log(childHeight,childWidth);\r\n        if (childHeight.length < 2 && childWidth.length < 2) {\r\n            if($(productDescription).children('.tile__text').outerHeight() < 200) return\r\n            $(productDescription).css({\r\n                height: '200px'\r\n            })\r\n                .addClass('readmore_disable');\r\n            if ($(productDescription).children('.readmore_btn').length === 0) {\r\n                $(productDescription).append('<div style=\"width: 100%\" class=\"readmore_btn\"><div class=\"readmore_text\">Подробнее</div></div>');\r\n            }\r\n        } else {\r\n            var minHeight = getMin(childHeight),\r\n                minWidth = getMin(childWidth),\r\n                maxHeight = getMax(childHeight),\r\n                maxWidth = getMax(childWidth);\r\n\r\n            console.log($(productDescription).children('.tile__text').outerHeight());\r\n            console.log($(productDescription).children('.tile__text'));\r\n            console.log(minHeight);\r\n            if(\r\n                $(productDescription).children('.tile__text').outerHeight() <\r\n                $(productDescription).children('.tile__wrapper').outerHeight() ||\r\n                $(document).width() < 992\r\n            ){\r\n                $(productDescription)\r\n                    .removeClass('readmore_disable')\r\n                    .css({height: 'auto'});\r\n                return\r\n            }\r\n\r\n            $(productDescription)\r\n                .addClass('readmore_disable')\r\n                .css({height: minHeight});\r\n\r\n            if ($(productDescription).children('.readmore_btn').length === 0) {\r\n                $(productDescription).append('<div style=\"width: 50%\" class=\"readmore_btn\"><div class=\"readmore_text\">Подробнее</div></div>')\r\n            }\r\n        }\r\n\r\n\r\n        $('.readmore_btn').click(function () {\r\n            $(productDescription).removeClass('readmore_disable').addClass('active').css({height: 'auto'}).children('.tile__text').css({height: 'auto'});\r\n        })\r\n    }\r\n    if($(document).width() >= 992) {\r\n        readMoreInit();\r\n    } else {\r\n        readMoreInitMobile();\r\n    }\r\n    $(window).resize(function () {\r\n        if($(document).width() >= 992){\r\n            readMoreInit();\r\n        } else {\r\n            readMoreInitMobile();\r\n            $('.readmore_btn').css({width: '100%'});\r\n            $(productDescription).css({height: 'auto'});\r\n\r\n            $(productDescription).addClass('readmore_disable').children('.tile__text').css({height: '200px'})\r\n        }\r\n    });\r\n\r\n    function readMoreInitMobile() {\r\n        if($(productDescription).hasClass('active')) return;\r\n        if($(productDescription).children('.tile__text').outerHeight() < 200) return\r\n\r\n        $(productDescription)\r\n            .addClass('readmore_disable')\r\n            .children('.tile__text')\r\n            .css({height: '200px'})\r\n            .append('<div style=\"width: 100%; height: 70px\" class=\"readmore_btn\"><div class=\"readmore_text\">Подробнее</div></div>');\r\n        $('.readmore_btn').click(function () {\r\n            $(productDescription).removeClass('readmore_disable').addClass('active').children('.tile__text').css({height: 'auto'});\r\n        })\r\n    }\r\n\r\n\r\n    function getMin(arr) {\r\n        var arrLen = arr.length,\r\n            minEl = arr[0];\r\n        for (var i = 0; i < arrLen; i++) {\r\n            if (minEl > arr[i]) {\r\n                minEl = arr[i];\r\n            }\r\n        }\r\n        return minEl;\r\n    }\r\n\r\n    function getMax(arr) {\r\n        var arrLen = arr.length,\r\n            maxEl = arr[0];\r\n        for (var i = 0; i < arrLen; i++) {\r\n            if (maxEl < arr[i]) {\r\n                maxEl = arr[i];\r\n            }\r\n        }\r\n        return maxEl;\r\n    }\r\n\r\n});\r\n\r\n\r\n"],"file":"readmore.js"}