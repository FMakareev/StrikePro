{"version":3,"names":[],"mappings":"","sources":["readmore.js"],"sourcesContent":["$(document).ready(function () {\r\n\r\n    var $readmoreWrapper = $('.readmore-wrapper');\r\n    var $readmoreContent = $('.readmore-content');\r\n    var $readmoreButtonWrapper = $('.readmore-button_wrapper');\r\n    var $readmoreButton = $('.readmore-button');\r\n\r\n    // readmore-button_wrapper--half\r\n    function CloseReadMoreContent() {\r\n        var MinHeight = ($($readmoreWrapper).width() / 4).toFixed();\r\n        console.log(MinHeight);\r\n        console.log($($readmoreWrapper).height());\r\n        if ($($readmoreWrapper).height() > MinHeight) {\r\n            if (window.innerWidth >= 768) {\r\n                $($readmoreContent).height(MinHeight);\r\n            } else {\r\n                $($readmoreContent).height(200);\r\n            }\r\n            $($readmoreContent).css('display', 'block');\r\n            if ($($readmoreButtonWrapper).hasClass('hidden')) {\r\n                $($readmoreButtonWrapper).removeClass('hidden');\r\n            }\r\n        } else if (!$($readmoreButtonWrapper).hasClass('readmore-button_wrapper--close')) {\r\n            $($readmoreButtonWrapper).addClass('hidden');\r\n        } else if ($($readmoreWrapper).height() <= MinHeight) {\r\n            $($readmoreButtonWrapper).addClass('hidden');\r\n        }\r\n    }\r\n\r\n    function OpenReadMoreContent() {\r\n        $($readmoreContent).css('height', 'auto');\r\n        $($readmoreContent).css('display', 'inline');\r\n    }\r\n\r\n    function init() {\r\n\r\n        console.log('$readmoreContent: ', $readmoreContent);\r\n        if (!$readmoreWrapper.length) {\r\n            return null;\r\n        }\r\n        if($readmoreWrapper[\"0\"].children.length === 3) {\r\n            $($readmoreButtonWrapper).addClass('readmore-button_wrapper--half');\r\n        }\r\n        CloseReadMoreContent();\r\n        $($readmoreButtonWrapper).addClass('readmore-button_wrapper--close');\r\n\r\n        $($readmoreButton).on('click', $.debounce(300, true, function (e) {\r\n            if ($($readmoreButtonWrapper).hasClass('readmore-button_wrapper--close')) {\r\n                OpenReadMoreContent();\r\n                $($readmoreButtonWrapper).removeClass('readmore-button_wrapper--close');\r\n                $($readmoreButton).text('СВЕРНУТЬ');\r\n            } else {\r\n                CloseReadMoreContent();\r\n                $($readmoreButtonWrapper).addClass('readmore-button_wrapper--close');\r\n                $($readmoreButton).text('ПОДРОБНЕЕ');\r\n\r\n            }\r\n        }));\r\n\r\n        $(window)\r\n            .resize($.debounce(300, false, function (e) {\r\n                if ($($readmoreButtonWrapper).hasClass('readmore-button_wrapper--close')) {\r\n                    CloseReadMoreContent();\r\n                }\r\n            }));\r\n    }\r\n\r\n    init()\r\n});\r\n"],"file":"readmore.js"}