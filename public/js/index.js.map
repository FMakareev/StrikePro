{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["$(\".movwDown\").on(\"click\", function (event) {\r\n    event.preventDefault();\r\n    var id = $(this).attr('href'),\r\n        top = $(id).offset().top - $(\".header\").innerHeight();\r\n    $('body,html').animate({scrollTop: top}, 300);\r\n});\r\n\r\n$(function () {\r\n\r\n});\r\n\r\n\r\n$(function () {\r\n    function ajaxSubmitSunscribe(form) {\r\n        var $this = $(form);\r\n        var data = $this.serialize();\r\n        $.ajax({\r\n            'url': ajax_url.ajaxSubmitSunscribeUrl,\r\n            'type': 'post',\r\n            'dataType': 'html',\r\n            'data': data,\r\n            'success': function (data, textStatus, jqXHR) {\r\n                console.log('Success register subscription.', data, textStatus, jqXHR);\r\n\r\n                $(\".subscription-form\").find(\".js__popup\").show();\r\n                $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n            },\r\n            'error': function (jqXHR, textStatus, errorThrown) {\r\n                console.error('Error register subscription!', jqXHR, textStatus, errorThrown);\r\n\r\n                $(\".subscription-form\").find(\".js__popup--error\").show();\r\n                $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n            }\r\n        }).done(function () {\r\n            form.reset();\r\n        });\r\n    }\r\n\r\n    $(\".subscription-form\").submit(function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    }).validate({\r\n        rules: {\r\n            email: {\r\n                required: true,\r\n                email: true,\r\n                minlength: 6\r\n            }\r\n        },\r\n        messages: {\r\n            email: {\r\n                required: \"Поле Email обязательно для заполнения\",\r\n                email: \"Адрес электронной почты недействителен\"\r\n            }\r\n        },\r\n        submitHandler: function (form) {\r\n            ajaxSubmitSunscribe(form);\r\n        }\r\n    });\r\n});\r\n\r\n\r\n$(document).on(\"click\", function (event) {\r\n    if ($(event.target).closest(\".js__closePopup\").length == 1) {\r\n        $(\".js__popUP__video\").detach();\r\n        $(\".js__popup--error\").hide();\r\n        $(event.target).closest(\".js__popup\").hide();\r\n        $(\"body\").css({\r\n            \"overflow\": \"inherit\"\r\n        });\r\n        return\r\n    } else if ($(event.target).closest(\".js__noPropagation\").length == 1) {\r\n        event.stopPropagation();\r\n        return\r\n    } else if ($(event.target).closest(\".js__popup\").length == 1) {\r\n\r\n        $(\".js__popUP__video\").detach();\r\n        $(\".js__popup--error\").hide();\r\n        event.stopPropagation();\r\n        $(event.target).closest(\".js__popup\").hide();\r\n        $(\"body\").css({\r\n            \"overflow\": \"inherit\"\r\n        });\r\n        return\r\n    }\r\n})\r\n\r\n\r\n// VIDEO POPUP\r\n$(document).ready(function () {\r\n\r\n    $(\".js__videoPopup\").on(\"click\", function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        console.log('closk')\r\n        var k = 1280 / 720;\r\n        var w = screen.width;\r\n        var link = $(this).attr('href');\r\n        var popUp_content = '<iframe width=\"100%\" height=\"100%\" src=\"' + link + '\" frameborder=\"0\" allowfullscreen></iframe>';\r\n        var popUp = '<div class=\"popUP__wrapper js__popUP__video js__popup active\"><div class=\"popUP__video js__noPropagation\"> <button class=\"close__popup js__closePopup\">&#215;</button>' + popUp_content + '</div></div>';\r\n        $(\"body\").css({\r\n            \"overflow\": \"hidden\"\r\n        });\r\n        $(\"body\").append(popUp);\r\n\r\n\r\n        $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n        $('.popUP__video').css({\"height\": w * 0.7 / k, \"width\": w * 0.7});\r\n\r\n    })\r\n\r\n\r\n    $(window).resize(function () {\r\n        var k = 1280 / 720;\r\n        var w = screen.width;\r\n\r\n        $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n        $('.header__search--mobile').css({\"height\": window.innerHeight + \"px\"});\r\n        console.log(w);\r\n        if (w < 700) {\r\n            $('.popUP__video').css({\"width\": \"100%\"});\r\n            $('.popUP__video').height($('.popUP__video').width() / k);\r\n        } else {\r\n            $('.popUP__video').css({\"height\": w * 0.8 / k, \"width\": w * 0.8});\r\n        }\r\n    });\r\n\r\n\r\n})\r\n\r\n\r\n// FLEXSLIDER PAGE INDEX\r\n\r\n\r\n// Jquery UI range\r\n$(document).ready(function () {\r\n    jQuery(\"#input_range-1\").slider({\r\n        min: 0,\r\n        max: 15,\r\n        step: 1,\r\n        value: '',\r\n        range: true\r\n    });\r\n\r\n    jQuery(\"#input_range-2\").slider({\r\n        min: 0,\r\n        max: 11,\r\n        values: '',\r\n        range: true\r\n    });\r\n    jQuery(\"#input_range-3\").slider({\r\n        min: 0,\r\n        max: 61,\r\n        values: \"\",\r\n        range: true\r\n    });\r\n    addValue()\r\n\r\n    function addValue() {\r\n        var btn = $(\".ui-slider-handle\");\r\n        for (var i = 0; i < btn.length; i++) {\r\n            $(btn[i]).append(\"<span class='input_range-value'></span>\")\r\n        }\r\n    }\r\n\r\n    $('#input_range-1').bind('slide', function () {\r\n        var rangList = $('#input_range-1 .input_range-value');\r\n        $(rangList[0]).text($('#input_range-1').slider('values')[0] + \" кг\");\r\n        $(rangList[1]).text($('#input_range-1').slider('values')[1] + \" кг\");\r\n    });\r\n    $('#input_range-2').bind('slide', function () {\r\n        var rangList = $('#input_range-2 .input_range-value');\r\n        $(rangList[0]).text($('#input_range-2').slider('values')[0] + \" cм\");\r\n        $(rangList[1]).text($('#input_range-2').slider('values')[1] + \" см\");\r\n    });\r\n    $('#input_range-3').bind('slide', function () {\r\n        var rangList = $('#input_range-3 .input_range-value');\r\n        $(rangList[0]).text($('#input_range-3').slider('values')[0] + \" метров\");\r\n        $(rangList[1]).text($('#input_range-3').slider('values')[1] + \" метров\");\r\n    });\r\n\r\n    $(\".productList__filtrBlock--reset\").on('click', function () {\r\n        $('#input_range-3').slider('values', [0, 15])\r\n        $('#input_range-1 .input_range-value').text($('#input_range-1').slider('values') + \" кг\");\r\n        $('#input_range-2').slider('values', [0, 11]);\r\n        $('#input_range-2 .input_range-value').text($('#input_range-2').slider('values') + \" см\");\r\n        $('#input_range-1').slider('values', [0, 6])\r\n        $('#input_range-3 .input_range-value').text($('#input_range-3').slider('values') + \" метр\");\r\n    })\r\n\r\n})\r\n\r\n\r\n// close product filtr\r\n$(\".productList__filtrBlock--close\").on(\"click\", function (event) {\r\n    event.preventDefault();\r\n    var filtr = $(\".productList__filtrBlock\");\r\n    filtr.slideToggle();\r\n    $(\".productList__filtrBlock--close\").toggleClass(\"active\");\r\n})\r\n\r\n\r\n// mobile menu\r\n$(\".headerNav__toggle\").on(\"click\", function () {\r\n    var $body = $(\"body\");\r\n    var $headerTop = $(\".header__top\");\r\n    $(this).toggleClass(\"active\");\r\n    if ($(this).hasClass(\"active\")) {\r\n        $($headerTop).addClass(\"nav__active\");\r\n        $($body).addClass(\"nav__active\");\r\n\r\n        if ($($body).find('.nav-backdrop').length) {\r\n            var $navBackdrop = $(\".nav-backdrop\");\r\n            $($navBackdrop).addClass(\"active\");\r\n            console.log('closeHeaderNav');\r\n            $($navBackdrop).bind('click', closeHeaderNav);\r\n        } else {\r\n\r\n            $($body).append('<div class=\"nav-backdrop active\"></div>');\r\n            $(\".nav-backdrop\").bind('click', closeHeaderNav);\r\n        }\r\n\r\n    } else {\r\n        closeHeaderNav();\r\n    }\r\n});\r\n\r\nfunction closeHeaderNav() {\r\n    console.log('closeHeaderNav');\r\n    var $body = $(\"body\");\r\n    var $headerTop = $(\".header__top\");\r\n    var $navBackdrop = $(\".nav-backdrop\");\r\n\r\n    $($headerTop).removeClass(\"nav__active\");\r\n    $('.headerNav__toggle').removeClass(\"active\");\r\n    $($body).removeClass(\"nav__active\");\r\n    $($navBackdrop).unbind('click', closeHeaderNav);\r\n\r\n    $($navBackdrop).removeClass(\"active\");\r\n}\r\n\r\n\r\n// $(\".custom-menu__wrapper\").hover(\r\n//     function () {\r\n//         console.log(\"on\");\r\n//         $(\"body\").css({\"overflow\": \"hidden\"})\r\n//     },\r\n//     function () {\r\n//         console.log(\"off\");\r\n//         $(\"body\").css({\"overflow\": \"auto\"})\r\n//     });\r\n$('.custom-menu__toggle').on('click', function () {\r\n    console.log('click');\r\n    if (window.innerWidth < 1024) {\r\n        if ($(this).hasClass('active')) {\r\n            $(this).removeClass('active');\r\n        } else {\r\n            $('.custom-menu__toggle').removeClass('active');\r\n            $(this).addClass('active');\r\n        }\r\n    }\r\n});\r\n// $('.custom-menu__toggle').hover(function () {\r\n//     console.log('click');\r\n//     if (window.outerWidth < 1024) {\r\n//         if ($(this).hasClass('active')) {\r\n//             $(this).removeClass('active');\r\n//         } else {\r\n//             $('.custom-menu__toggle').removeClass('active');\r\n//             $(this).addClass('active');\r\n//         }\r\n//     }\r\n// },function () {\r\n//     console.log('click');\r\n//     if (window.outerWidth < 1024) {\r\n//         if ($(this).hasClass('active')) {\r\n//             $(this).removeClass('active');\r\n//         } else {\r\n//             $('.custom-menu__toggle').removeClass('active');\r\n//             $(this).addClass('active');\r\n//         }\r\n//     }\r\n// });\r\n\r\n// desctop menu\r\n$(window).resize(function () {\r\n    var w = screen.width;\r\n\r\n    if (w > 1023) {\r\n        $(\"body\").removeClass(\"nav__active\");\r\n        $(\".header__top\").removeClass(\"nav__active\");\r\n        $(\".headerNav__toggle\").removeClass(\"active\");\r\n        closeHeaderNav()\r\n    }\r\n});\r\n\r\n\r\n// mobile search popup\r\n$(\".header__search--btn\").on(\"click\", function (event) {\r\n\r\n    event.preventDefault();\r\n    if (!$(\"body\").hasClass(\"nav__active\")) {\r\n        $(\".header__search--mobile\").show();\r\n        $(\".header__search--mobile\").css({\"height\": window.innerHeight + \"px\"});\r\n    }\r\n\r\n})\r\n\r\n$(document).on(\"click\", function (event) {\r\n    if ($(event.target).closest(\".form-group\").length == 1) {\r\n        event.stopPropagation();\r\n        return\r\n    } else if ($(event.target).closest(\".header__search--mobile\").length == 1) {\r\n        $(\".header__search--mobile\").hide();\r\n        return\r\n    }\r\n})\r\n\r\n$(document).keyup(function (eventObject) {\r\n    if (eventObject.which == 27) {\r\n        $(\".header__search--mobile\").hide();\r\n        $(\".js__popup\").hide();\r\n        $(\".js__popup\").hide();\r\n        $(\".js__popUP__video\").detach();\r\n        $(\"body\").css({\r\n            \"overflow\": \"inherit\"\r\n        });\r\n    }\r\n\r\n});\r\n\r\n\r\n// JQUERY UI Autocomplete Widget\r\n$(document).ready(function () {\r\n\r\n    $('.js__search').autocomplete({\r\n        minLength: 2,\r\n        delay: 1000,\r\n        source: function (request, response) {\r\n            $.ajax({\r\n                url: ajax_url.autocompleteServerUrl, // ссылка на json\r\n                type: 'get',\r\n                data: {\r\n                    'q': $('[name=q]').val()\r\n                },\r\n                success: function (data) { // получаем данные из json\r\n\r\n                    response(data.data);\r\n                },\r\n                'error': function (jqXHR, textStatus, errorThrown) {\r\n                    console.error('Error register subscription!', jqXHR, textStatus, errorThrown);\r\n                }\r\n            });\r\n        },\r\n        select: function (event, ui) {\r\n            location.assign(ui.item.url)\r\n        },\r\n    }).data(\"ui-autocomplete\")._renderItem = function (ul, item) {\r\n        if (item.image === undefined) {\r\n            return $(\"<li></li>\")\r\n                .data(\"ui-autocomplete-item\", item)\r\n                .append(\"<span class='autocompleteItem__title'>\" +\r\n                    item.title +\r\n                    \"</span>\")\r\n                .appendTo(ul);\r\n        } else {\r\n            return $(\"<li></li>\")\r\n                .data(\"ui-autocomplete-item\", item)\r\n                .append(\"<span class='autocompleteItem__img'>\" +\r\n                    \"<img src=\" + item.image.data.thumb + \">\" +\r\n                    \"</span>\" +\r\n                    \"<span class='autocompleteItem__title'>\" +\r\n                    item.title +\r\n                    \"</span>\")\r\n                .appendTo(ul);\r\n        }\r\n    };\r\n\r\n\r\n    $('.js__search').keydown(function (event) {\r\n        if (event.keyCode == 13) {\r\n            $(\".header__search\").submit();\r\n            return false;\r\n        }\r\n    });\r\n\r\n\r\n});\r\n\r\n\r\n$(\".product__zoom\").on(\"click\", function () {\r\n    var link = $(this).closest(\".product__stand\").find(\"img\").attr(\"src\");\r\n\r\n    $(\"body\").css({\r\n        \"overflow\": \"hidden\"\r\n    });\r\n\r\n    $(\".popUP__productImg\").css({\r\n        \"width\": $(this).closest(\".product__stand\").find(\"img\").width() + \"px\",\r\n        \"height\": $(this).closest(\".product__stand\").find(\"img\").height() + \"px\"\r\n    });\r\n\r\n    $(\".popUP__productImg\").find(\"img\").attr(\"src\", link);\r\n    $(\".popUP__productImg\").closest(\".popUP__wrapper\").show();\r\n\r\n})\r\n\r\n//--------------------------------------------------------------\r\n//--------------------------------------------------------------\r\n/* \r\n\r\n код ниже нужен для горизонтального скрола на странице списка продуктов  для прокрутки вариация проддуктов\r\n\r\n */\r\n//--------------------------------------------------------------\r\n//--------------------------------------------------------------\r\n\r\n$(document).ready(\r\n    function () {\r\n\r\n        var scrollSetting = {\r\n            parentCategoryBlock: \"\",\r\n            parentCategoryBlockWidth: \"\",\r\n            childrenCategoryBlock: \"\",\r\n            childrenCategoryBlockWidth: \"\",\r\n            maxPos: 0,\r\n            currentPos: 0,\r\n            scrollSpeed: 15\r\n        }\r\n\r\n        function initHscrool() {\r\n            scrollSetting.parentCategoryBlock = $(\".container-tab\");\r\n            scrollSetting.parentCategoryBlockWidth = $(scrollSetting.parentCategoryBlock).width();\r\n            scrollSetting.childrenCategoryBlock = $(\".accordion-tabs\");\r\n            scrollSetting.childrenCategoryBlockWidth = $(scrollSetting.childrenCategoryBlock).width();\r\n            scrollSetting.maxPos = scrollSetting.childrenCategoryBlockWidth - scrollSetting.parentCategoryBlockWidth;\r\n            scrollSetting.currentPos = parseInt($(scrollSetting.childrenCategoryBlock).css(\"left\"), 10);\r\n        }\r\n\r\n        function HScrollCategory(e) {\r\n            var scrollTo = null;\r\n            var scrollDir = 0;\r\n            if (e.type === 'mousewheel') {\r\n                scrollTo = (e.originalEvent.wheelDelta * -1);\r\n                scrollDir = scrollTo;\r\n            }\r\n            else if (e.type === 'DOMMouseScroll') {\r\n                scrollTo = 40 * e.originalEvent.detail;\r\n                scrollDir = scrollTo;\r\n            }\r\n            if (scrollTo) {\r\n                e.preventDefault();\r\n                $(this).scrollTop(scrollTo + $(this).scrollTop());\r\n            }\r\n\r\n            if (scrollDir > 0) {\r\n                console.log(\"down\");\r\n                if (scrollSetting.currentPos < scrollSetting.maxPos) {\r\n                    scrollSetting.currentPos += scrollSetting.scrollSpeed;\r\n                } else {\r\n                    return\r\n                }\r\n                if (scrollSetting.currentPos >= scrollSetting.maxPos) {\r\n                    $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.maxPos + \"px\"});\r\n                    return\r\n                }\r\n                $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.currentPos + \"px\"})\r\n            } else if (scrollDir < 0) {\r\n                console.log(\"up\");\r\n                if (scrollSetting.currentPos > 0) {\r\n                    scrollSetting.currentPos -= scrollSetting.scrollSpeed;\r\n                } else {\r\n                    return\r\n                }\r\n                if (scrollSetting.currentPos <= 0) {\r\n                    $(scrollSetting.childrenCategoryBlock).css({\"left\": \"0px\"});\r\n                    return\r\n                }\r\n                $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.currentPos + \"px\"})\r\n            }\r\n        }\r\n\r\n        $(\".headerNav__item\").hover(\r\n            function () {\r\n                // пришел\r\n                var w = screen.width;\r\n                if (w >= 1024) {\r\n                    initHscrool();\r\n                    $(scrollSetting.parentCategoryBlock).bind('mousewheel DOMMouseScroll', HScrollCategory);\r\n                }\r\n\r\n            },\r\n            function () {\r\n                // ушел\r\n                var w = screen.width;\r\n                if (w >= 1024) {\r\n                    $(scrollSetting.parentCategoryBlock).unbind('mousewheel DOMMouseScroll', HScrollCategory);\r\n                    $(\".accordion-tabs\").css({\"left\": \"0px\"});\r\n                }\r\n            });\r\n\r\n\r\n        $(window).resize(function () {\r\n            var w = screen.width;\r\n\r\n            if (w > 1024) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n        //\r\n        // $(window).resize(function () {\r\n        //     addGradientBlock()\r\n        // });\r\n\r\n        $(\".tile__wrapper--big\").on(\"click\", function (event) {\r\n            event.preventDefault();\r\n            var href = $(this).attr('href');\r\n            var video_content = '<iframe width=\"100%\" height=\"100%\" src=\"' + href + '\" frameborder=\"0\" allowfullscreen></iframe>';\r\n            $(this).empty();\r\n            $(this).append(video_content);\r\n        })\r\n\r\n    }\r\n);\r\n\r\n\r\n(function ($) {\r\n    $(function () {\r\n\r\n        $('#moveup').click(function () {\r\n            $('html, body').animate({scrollTop: 0}, 500);\r\n            return false;\r\n        })\r\n\r\n    })\r\n})(jQuery)"],"file":"index.js"}