{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["$(\".movwDown\").on(\"click\", function (event) {\r\n    event.preventDefault();\r\n    var id = $(this).attr('href'),\r\n        top = $(id).offset().top - $(\".header\").innerHeight();\r\n    $('body,html').animate({scrollTop: top}, 300);\r\n});\r\n\r\n$(document).ready(function () {\r\n\r\n    var tile_list = $(\".tile__wrapper[data-tileid]\");\r\n    var _num_row = 0;\r\n    var num_col = 0;\r\n\r\n    var tile1Width = $(\".tile__wrapper[data-tileid='1']\").innerWidth(),\r\n        tile2Width = $(\".tile__wrapper[data-tileid='2']\").innerWidth();\r\n\r\n    var tileListWidth = $(\".tile-list\").width();\r\n    var tile_array = $(\".tile__wrapper[data-tileid]\");\r\n\r\n    var tile_row_array = [];\r\n\r\n    function row_object_constructor(top, row_width, elem_list) {\r\n        this.row_top_position = top;\r\n        this.row_width = row_width;\r\n        this.elem_list = elem_list;\r\n    }\r\n\r\n    function init() {\r\n        var screenWidth = window.innerWidth;\r\n        var top = 0;\r\n        var elem_newarray = [];\r\n        var row_width = 0;\r\n        var tile_array_length = $(tile_array).length;\r\n        for (var i = 0; i < tile_array_length; i++) {\r\n            if (top < $(tile_array[i]).position().top) {\r\n                top = $(tile_array[i]).position().top;\r\n                elem_newarray = $(tile_array).filter(function (index) {\r\n                    return $(this).position().top == top;\r\n                });\r\n                for (var a = 0; a < $(elem_newarray).length; a++) {\r\n                    row_width += $(elem_newarray[a]).innerWidth();\r\n                }\r\n                var new_row = new row_object_constructor(top, row_width, elem_newarray);\r\n                tile_row_array.push(new_row);\r\n                row_width = 0;\r\n            }\r\n        }\r\n\r\n        // console.log(tile_row_array);\r\n        // console.log(tile1Width + \" tile1Width\");\r\n        // console.log(tile2Width + \" tile2Width\");\r\n        // console.log(tile1Width * 4);\r\n        // console.log(tileListWidth);\r\n\r\n        // если сумма ширин элементов последней строки не равна ширине контейнера\r\n        if (tile_row_array[tile_row_array.length - 1].row_width != tileListWidth) {\r\n            // получаю разницу в виде колличества недостающих плиток\r\n            var raznica = Math.round((tileListWidth - tile_row_array[tile_row_array.length - 1].row_width) / tile1Width);\r\n            // коллекция элементов последней строки\r\n            var elemList = tile_row_array[tile_row_array.length - 1].elem_list;\r\n            // длинна коллекции элементов последней строки\r\n            var elemListLength = elemList.length;\r\n            var count = 2;\r\n            var statusWhile = true;\r\n            // если разница равна нулю или меньше\r\n            if (raznica <= 0) {\r\n                return\r\n\r\n            } else { // иначе едем дальше\r\n\r\n\r\n                if (screenWidth >= 1400) {\r\n                    console.log(raznica);\r\n                    switch (raznica) {\r\n                        case 4:\r\n                            console.log(\"колличество элементов в строке равно 1 == col-2_4\");\r\n                            while (statusWhile === true){\r\n                                var prevRowElemList = tile_row_array[tile_row_array.length - count].elem_list;\r\n                                for(var i = 0; i < prevRowElemList.length; i++){\r\n                                    if($(prevRowElemList[i]).hasClass(\"col-4_8\")){\r\n                                        $(prevRowElemList[i]).toggleClass(\"col-4_8 col-2_4\");\r\n                                        statusWhile = false;\r\n                                        return\r\n                                    }\r\n                                }\r\n                                count++;\r\n                            }\r\n                            break;\r\n                        case 3:\r\n                            if(elemListLength === 1){\r\n                                console.log(\"колличество элементов в строке равно 1 == col-4_8\");\r\n                                // элемент последней строи сжимаем до  ячейки\r\n                                $(elemList[0]).toggleClass(\"col-4_8 col-2_4\");\r\n                                while (statusWhile === true){\r\n                                    var prevRowElemList = tile_row_array[tile_row_array.length - count].elem_list;\r\n                                    for(var i = 0; i < prevRowElemList.length; i++){\r\n                                        if($(prevRowElemList[i]).hasClass(\"col-4_8\")){\r\n                                            $(prevRowElemList[i]).toggleClass(\"col-4_8 col-2_4\");\r\n                                            statusWhile = false;\r\n                                            return\r\n                                        }\r\n                                    }\r\n                                    count++;\r\n                                }\r\n                            } else if (elemListLength === 2){\r\n                                console.log(\"колличество элементов в строке равно 2\");\r\n                                $(tile_cap_list.vk).insertAfter(elemList[elemListLength - 1]);\r\n                                for(var i = 0; i < elemListLength; i++){\r\n                                    if($(elemList[i]).hasClass(\"col-2_4\")){\r\n                                        $(elemList[i]).toggleClass(\"col-2_4 col-4_8\");\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            console.log(\"колличество элементов в строке равно 3\");\r\n                             $(tile_cap_list.vk).insertBefore(elemList[elemListLength - 1]);\r\n                             for(var i = 0; i < elemListLength; i++){\r\n                                if($(elemList[i]).hasClass(\"col-2_4\")){\r\n                                    $(elemList[i]).toggleClass(\"col-2_4 col-4_8\");\r\n                                }\r\n                             }\r\n                            break;\r\n                        case 1:\r\n                            console.log(\"колличество элементов в строке равно 4\");\r\n                            $(tile_cap_list.vk).insertBefore(elemList[elemListLength - 1]);\r\n                            break;\r\n                    }\r\n\r\n                } else if (screenWidth >= 1024) {\r\n                    console.log(raznica);\r\n                    switch (raznica) {\r\n                        case 3:\r\n                            console.log(\"Элементов в строке 1\");\r\n                            while (statusWhile === true){\r\n                                var prevRowElemList = tile_row_array[tile_row_array.length - count].elem_list;\r\n                                for(var i = 0; i < prevRowElemList.length; i++){\r\n                                    if($(prevRowElemList[i]).hasClass(\"col-md-6\")){\r\n                                        $(prevRowElemList[i]).toggleClass(\"col-md-6 col-md-3\");\r\n                                        statusWhile = false;\r\n                                        return\r\n                                    }\r\n                                }\r\n                                count++;\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            console.log(\"колличество элементов в строке равно 3\");\r\n                            if(elemListLength === 1){\r\n                                console.log(\"колличество элементов в строке равно 1 == равен двум\");\r\n                                // элемент последней строи сжимаем до  ячейки\r\n                                $(elemList[0]).toggleClass(\"col-md-6 col-md-3\");\r\n                                while (statusWhile === true){\r\n                                    var prevRowElemList = tile_row_array[tile_row_array.length - count].elem_list;\r\n                                    for(var i = 0; i < prevRowElemList.length; i++){\r\n                                        if($(prevRowElemList[i]).hasClass(\"col-md-6\")){\r\n                                            $(prevRowElemList[i]).toggleClass(\"col-md-6 col-md-3\");\r\n                                            statusWhile = false;\r\n                                            return\r\n                                        }\r\n                                    }\r\n                                    count++;\r\n                                }\r\n                            } else if (elemListLength === 2){\r\n                                console.log(\"колличество элементов в строке равно 2\");\r\n                                for(var i = 0; i < elemListLength; i++){\r\n                                    if($(elemList[i]).hasClass(\"col-md-3\")){\r\n                                        $(elemList[i]).toggleClass(\"col-md-3 col-md-6\");\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 1:\r\n                            console.log(\"колличество элементов в строке равно 3\");\r\n                            $(tile_cap_list.vk).insertBefore(elemList[elemListLength - 1]);\r\n                            break;\r\n                    }\r\n\r\n                } else if (screenWidth >= 768) {\r\n                    console.log(raznica);\r\n                    switch (raznica) {\r\n                        case 2:\r\n                            console.log(\"колличество элементов в строке равно 1\");\r\n                            $(tile_cap_list.vk).insertBefore(elemList[elemListLength - 1]);\r\n                            $(elemList[0]).toggleClass(\"col-sm-4 col-sm-8\");\r\n                            break;\r\n                        case 1:\r\n                            console.log(\"колличество элементов в строке равно 2 илиширина одного равна двум\");\r\n                            $(tile_cap_list.vk).insertBefore(elemList[elemListLength - 1]);\r\n                            break;\r\n                    }\r\n                } else {\r\n                    return\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function toggle_tile_class(row_length, _array) {\r\n        for (var a = 0; a < _array.length; a++) {\r\n            switch (row_length) {\r\n                case 5:\r\n                    if ($(_array[a]).hasClass(\"col-4_8\")) {\r\n                        $(_array[a]).toggleClass(\"col-4_8 col-2_4\");\r\n                        _num_row += 1;\r\n                        return\r\n                    }\r\n                    break;\r\n                case 4:\r\n                    if ($(_array[a]).hasClass(\"col-md-6\")) {\r\n                        $(_array[a]).toggleClass(\"col-md-6 col-md-3\");\r\n                        _num_row += 1;\r\n                        return\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    if ($(_array[a]).hasClass(\"col-sm-8\")) {\r\n                        $(_array[a]).toggleClass(\"col-sm-8 col-sm-4\");\r\n                        _num_row += 1;\r\n                        return false\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function tile_check() {\r\n        var _array = [],\r\n            _num = 0,\r\n            length = tile_list.length,\r\n            w = window.innerWidth,\r\n            row_length;\r\n        if (w >= 1400) {\r\n            row_length = 5;\r\n        } else if (w >= 992) {\r\n            row_length = 4;\r\n        } else if (w >= 768) {\r\n            row_length = 3;\r\n        } else {\r\n            return\r\n        }\r\n\r\n        if (w >= 768) {\r\n            for (var i = 0; i < length; i++) {\r\n                _num += $(tile_list[i]).data(\"tileid\");\r\n                num_col += _num;\r\n                _array.push(tile_list[i]);\r\n                if (_num > row_length) {\r\n                    toggle_tile_class(row_length, _array);\r\n                    _num = 0;\r\n                    _array.length = 0;\r\n                } else if (_num == row_length) {\r\n                    _num_row += 1;\r\n                    _num = 0;\r\n                    _array.length = 0;\r\n                }\r\n            }\r\n        }\r\n        init();\r\n    }\r\n\r\n    // $(window).resize(function () {\r\n    //     var screenWidth = window.innerWidth;\r\n    // });\r\n\r\n\r\n    if (tile_list.length != 0) {\r\n        tile_check();\r\n    }\r\n})\r\n\r\n\r\n$(function () {\r\n    function ajaxSubmitSunscribe(form) {\r\n        var $this = $(form);\r\n        var data = $this.serialize();\r\n        $.ajax({\r\n            'url': ajax_url.ajaxSubmitSunscribeUrl,\r\n            'type': 'post',\r\n            'dataType': 'html',\r\n            'data': data,\r\n            'success': function (data, textStatus, jqXHR) {\r\n                console.log('Success register subscription.', data, textStatus, jqXHR);\r\n\r\n                $(\".subscription-form\").find(\".js__popup\").show();\r\n                $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n            },\r\n            'error': function (jqXHR, textStatus, errorThrown) {\r\n                console.error('Error register subscription!', jqXHR, textStatus, errorThrown);\r\n\r\n                $(\".subscription-form\").find(\".js__popup--error\").show();\r\n                $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n            }\r\n        }).done(function () {\r\n            form.reset();\r\n        });\r\n    }\r\n\r\n    $(\".subscription-form\").submit(function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    }).validate({\r\n        rules: {\r\n            email: {\r\n                required: true,\r\n                email: true,\r\n                minlength: 6\r\n            }\r\n        },\r\n        messages: {\r\n            email: {\r\n                required: \"Поле Email обязательно для заполнения\",\r\n                email: \"Адрес электронной почты недействителен\"\r\n            }\r\n        },\r\n        submitHandler: function (form) {\r\n            ajaxSubmitSunscribe(form);\r\n        }\r\n    });\r\n});\r\n\r\n\r\n$(document).on(\"click\", function (event) {\r\n    if ($(event.target).closest(\".js__closePopup\").length == 1) {\r\n        $(\".js__popUP__video\").detach();\r\n        $(\".js__popup--error\").hide();\r\n        $(event.target).closest(\".js__popup\").hide();\r\n        $(\"body\").css({\r\n            \"overflow\": \"inherit\"\r\n        });\r\n        return\r\n    } else if ($(event.target).closest(\".js__noPropagation\").length == 1) {\r\n        event.stopPropagation();\r\n        return\r\n    } else if ($(event.target).closest(\".js__popup\").length == 1) {\r\n\r\n        $(\".js__popUP__video\").detach();\r\n        $(\".js__popup--error\").hide();\r\n        event.stopPropagation();\r\n        $(event.target).closest(\".js__popup\").hide();\r\n        $(\"body\").css({\r\n            \"overflow\": \"inherit\"\r\n        });\r\n        return\r\n    }\r\n})\r\n\r\n\r\n// VIDEO POPUP\r\n$(document).ready(function () {\r\n\r\n    $(\".js__videoPopup\").on(\"click\", function (event) {\r\n        event.preventDefault();\r\n        var link = $(this).attr('href');\r\n        var popUp_content = '<iframe width=\"100%\" height=\"100%\" src=\"' + link + '\" frameborder=\"0\" allowfullscreen></iframe>';\r\n        var popUp = '<div class=\"popUP__wrapper js__popUP__video js__popup active\"><div class=\"popUP__video js__noPropagation\"> <button class=\"close__popup js__closePopup\">&#215;</button>' + popUp_content + '</div></div>';\r\n        $(\"body\").css({\r\n            \"overflow\": \"hidden\"\r\n        });\r\n        $(\"body\").append(popUp);\r\n\r\n        $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n\r\n    })\r\n\r\n\r\n    $(window).resize(function () {\r\n        var k = 700 / 420;\r\n        var w = screen.width;\r\n\r\n        $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\r\n        $('.popUP__video').css({\"height\": window.innerHeight + \"px\"});\r\n        $('.header__search--mobile').css({\"height\": window.innerHeight + \"px\"});\r\n\r\n        if (w < 700) {\r\n            $('.popUP__video').height($('.popUP__video').width() / k);\r\n        }\r\n    });\r\n\r\n\r\n})\r\n\r\n\r\n// FLEXSLIDER PAGE INDEX\r\n\r\n\r\n// Jquery UI range\r\n$(document).ready(function () {\r\n    jQuery(\"#input_range-1\").slider({\r\n        min: 0,\r\n        max: 15,\r\n        step: 1,\r\n        value: '',\r\n        range: true\r\n    });\r\n\r\n    jQuery(\"#input_range-2\").slider({\r\n        min: 0,\r\n        max: 11,\r\n        values: '',\r\n        range: true\r\n    });\r\n    jQuery(\"#input_range-3\").slider({\r\n        min: 0,\r\n        max: 61,\r\n        values: \"\",\r\n        range: true\r\n    });\r\n    addValue()\r\n\r\n    function addValue() {\r\n        var btn = $(\".ui-slider-handle\");\r\n        for (var i = 0; i < btn.length; i++) {\r\n            $(btn[i]).append(\"<span class='input_range-value'></span>\")\r\n        }\r\n    }\r\n\r\n    $('#input_range-1').bind('slide', function () {\r\n        var rangList = $('#input_range-1 .input_range-value');\r\n        $(rangList[0]).text($('#input_range-1').slider('values')[0] + \" кг\");\r\n        $(rangList[1]).text($('#input_range-1').slider('values')[1] + \" кг\");\r\n    });\r\n    $('#input_range-2').bind('slide', function () {\r\n        var rangList = $('#input_range-2 .input_range-value');\r\n        $(rangList[0]).text($('#input_range-2').slider('values')[0] + \" cм\");\r\n        $(rangList[1]).text($('#input_range-2').slider('values')[1] + \" см\");\r\n    });\r\n    $('#input_range-3').bind('slide', function () {\r\n        var rangList = $('#input_range-3 .input_range-value');\r\n        $(rangList[0]).text($('#input_range-3').slider('values')[0] + \" метров\");\r\n        $(rangList[1]).text($('#input_range-3').slider('values')[1] + \" метров\");\r\n    });\r\n\r\n    $(\".productList__filtrBlock--reset\").on('click', function () {\r\n        $('#input_range-3').slider('values', [0, 15])\r\n        $('#input_range-1 .input_range-value').text($('#input_range-1').slider('values') + \" кг\");\r\n        $('#input_range-2').slider('values', [0, 11]);\r\n        $('#input_range-2 .input_range-value').text($('#input_range-2').slider('values') + \" см\");\r\n        $('#input_range-1').slider('values', [0, 6])\r\n        $('#input_range-3 .input_range-value').text($('#input_range-3').slider('values') + \" метр\");\r\n    })\r\n\r\n})\r\n\r\n\r\n// close product filtr\r\n$(\".productList__filtrBlock--close\").on(\"click\", function (event) {\r\n    event.preventDefault();\r\n    var filtr = $(\".productList__filtrBlock\");\r\n    filtr.slideToggle();\r\n    $(\".productList__filtrBlock--close\").toggleClass(\"active\");\r\n})\r\n\r\n\r\n// tabs in category header\r\n$(\"#catalog__tabs\").on(\"click\", function (event) {\r\n    event.stopPropagation();\r\n})\r\n$(document).ready(function () {\r\n    $('.accordion-tabs').children('li').first().children('a').addClass('is-active').next().addClass('is-open').show();\r\n    $('.accordion-tabs').on('click', 'li > a', function (event) {\r\n        if (!$(this).hasClass('is-active')) {\r\n            event.preventDefault();\r\n            $('.accordion-tabs .is-open').removeClass('is-open').hide();\r\n            $(this).next().toggleClass('is-open').toggle();\r\n            $('.accordion-tabs').find('.is-active').removeClass('is-active');\r\n            $(this).addClass('is-active');\r\n        } else if ($(this).hasClass('is-active')) {\r\n            event.preventDefault();\r\n            $(this).removeClass('is-active');\r\n            $(this).next().toggleClass('is-open').toggle();\r\n        } else {\r\n            event.preventDefault();\r\n        }\r\n    });\r\n});\r\n// mobile menu\r\n$(\".headerNav__toggle\").on(\"click\", function () {\r\n    $(this).toggleClass(\"active\")\r\n    if ($(this).hasClass(\"active\")) {\r\n        $(\".header__top\").addClass(\"nav__active\");\r\n        $(\"body\").addClass(\"nav__active\")\r\n    } else {\r\n        $(\".header__top\").removeClass(\"nav__active\");\r\n        $(\"body\").removeClass(\"nav__active\");\r\n    }\r\n\r\n//\r\n\r\n})\r\n// desctop menu\r\n$(window).resize(function () {\r\n    var w = screen.width;\r\n\r\n    if (w > 1023) {\r\n        $(\"body\").removeClass(\"nav__active\");\r\n        $(\".header__top\").removeClass(\"nav__active\");\r\n        $(\".headerNav__toggle\").removeClass(\"active\");\r\n    }\r\n});\r\n\r\n$(\".tab-head-cont section a\").on(\"click\", function (event) {\r\n    event.stopPropagation();\r\n})\r\n\r\n// mobile search popup\r\n$(\".header__search--btn\").on(\"click\", function (event) {\r\n\r\n    event.preventDefault();\r\n    if (!$(\"body\").hasClass(\"nav__active\")) {\r\n        $(\".header__search--mobile\").show();\r\n        $(\".header__search--mobile\").css({\"height\": window.innerHeight + \"px\"});\r\n    }\r\n\r\n})\r\n\r\n$(document).on(\"click\", function (event) {\r\n    if ($(event.target).closest(\".form-group\").length == 1) {\r\n        event.stopPropagation();\r\n        return\r\n    } else if ($(event.target).closest(\".header__search--mobile\").length == 1) {\r\n        $(\".header__search--mobile\").hide();\r\n        return\r\n    }\r\n})\r\n\r\n$(document).keyup(function (eventObject) {\r\n    if (eventObject.which == 27) {\r\n        $(\".header__search--mobile\").hide();\r\n        $(\".js__popup\").hide();\r\n        $(\".js__popup\").hide();\r\n        $(\".js__popUP__video\").detach();\r\n        $(\"body\").css({\r\n            \"overflow\": \"inherit\"\r\n        });\r\n    }\r\n\r\n});\r\n\r\n\r\n// JQUERY UI Autocomplete Widget\r\n$(document).ready(function () {\r\n\r\n    $('.js__search').autocomplete({\r\n        minLength: 2,\r\n        delay: 1000,\r\n        source: function (request, response) {\r\n            $.ajax({\r\n                url: ajax_url.autocompleteServerUrl, // ссылка на json\r\n                type: 'post',\r\n                data: {\r\n                    'q': $('[name=q]').val()\r\n                },\r\n                success: function (data) { // получаем данные из json\r\n                    var Data = $.grep(data.data, function (value) {\r\n                        return value.title.substring(0, request.term.length).toLowerCase() == request.term.toLowerCase();\r\n                    });\r\n                    response(Data);\r\n                },\r\n                'error': function (jqXHR, textStatus, errorThrown) {\r\n                    console.error('Error register subscription!', jqXHR, textStatus, errorThrown);\r\n                }\r\n            });\r\n        },\r\n        select: function (event, ui) {\r\n            location.assign(ui.item.url)\r\n        },\r\n    }).data(\"ui-autocomplete\")._renderItem = function (ul, item) {\r\n        if (item.image == undefined) {\r\n            return $(\"<li></li>\")\r\n                .data(\"ui-autocomplete-item\", item)\r\n                .append(\"<span class='autocompleteItem__title'>\" +\r\n                    item.title +\r\n                    \"</span>\")\r\n                .appendTo(ul);\r\n        } else {\r\n            return $(\"<li></li>\")\r\n                .data(\"ui-autocomplete-item\", item)\r\n                .append(\"<span class='autocompleteItem__img'>\" +\r\n                    \"<img src=\" + item.image.data.thumb + \">\" +\r\n                    \"</span>\" +\r\n                    \"<span class='autocompleteItem__title'>\" +\r\n                    item.title +\r\n                    \"</span>\")\r\n                .appendTo(ul);\r\n        }\r\n    };\r\n\r\n\r\n    $('.js__search').keydown(function (event) {\r\n        if (event.keyCode == 13) {\r\n            $(\".header__search\").submit();\r\n            return false;\r\n        }\r\n    });\r\n\r\n\r\n});\r\n\r\n\r\n$(\".product__zoom\").on(\"click\", function () {\r\n    var link = $(this).closest(\".product__stand\").find(\"img\").attr(\"src\");\r\n\r\n    $(\"body\").css({\r\n        \"overflow\": \"hidden\"\r\n    })\r\n\r\n    $(\".popUP__productImg\").css({\r\n        \"width\": $(this).closest(\".product__stand\").find(\"img\").width() + \"px\",\r\n        \"height\": $(this).closest(\".product__stand\").find(\"img\").height() + \"px\"\r\n    })\r\n\r\n    $(\".popUP__productImg\").find(\"img\").attr(\"src\", link);\r\n    $(\".popUP__productImg\").closest(\".popUP__wrapper\").show();\r\n\r\n})\r\n\r\n//--------------------------------------------------------------\r\n//--------------------------------------------------------------\r\n/* \r\n\r\n код ниже нужен для горизонтального скрола на странице списка продуктов  для прокрутки вариация проддуктов\r\n\r\n */\r\n//--------------------------------------------------------------\r\n//--------------------------------------------------------------\r\n\r\n$(document).ready(\r\n    function () {\r\n\r\n        var scrollSetting = {\r\n            parentCategoryBlock: \"\",\r\n            parentCategoryBlockWidth: \"\",\r\n            childrenCategoryBlock: \"\",\r\n            childrenCategoryBlockWidth: \"\",\r\n            maxPos: 0,\r\n            currentPos: 0,\r\n            scrollSpeed: 15\r\n        }\r\n\r\n        function initHscrool() {\r\n            scrollSetting.parentCategoryBlock = $(\".container-tab\");\r\n            scrollSetting.parentCategoryBlockWidth = $(scrollSetting.parentCategoryBlock).width();\r\n            scrollSetting.childrenCategoryBlock = $(\".accordion-tabs\");\r\n            scrollSetting.childrenCategoryBlockWidth = $(scrollSetting.childrenCategoryBlock).width();\r\n            scrollSetting.maxPos = scrollSetting.childrenCategoryBlockWidth - scrollSetting.parentCategoryBlockWidth;\r\n            scrollSetting.currentPos = parseInt($(scrollSetting.childrenCategoryBlock).css(\"left\"), 10);\r\n        }\r\n\r\n        function HScrollCategory(e) {\r\n            var scrollTo = null;\r\n            var scrollDir = 0;\r\n            if (e.type === 'mousewheel') {\r\n                scrollTo = (e.originalEvent.wheelDelta * -1);\r\n                scrollDir = scrollTo;\r\n            }\r\n            else if (e.type === 'DOMMouseScroll') {\r\n                scrollTo = 40 * e.originalEvent.detail;\r\n                scrollDir = scrollTo;\r\n            }\r\n            if (scrollTo) {\r\n                e.preventDefault();\r\n                $(this).scrollTop(scrollTo + $(this).scrollTop());\r\n            }\r\n\r\n            if (scrollDir > 0) {\r\n                console.log(\"down\");\r\n                if (scrollSetting.currentPos < scrollSetting.maxPos) {\r\n                    scrollSetting.currentPos += scrollSetting.scrollSpeed;\r\n                } else {\r\n                    return\r\n                }\r\n                if (scrollSetting.currentPos >= scrollSetting.maxPos) {\r\n                    $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.maxPos + \"px\"});\r\n                    return\r\n                }\r\n                $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.currentPos + \"px\"})\r\n            } else if (scrollDir < 0) {\r\n                console.log(\"up\");\r\n                if (scrollSetting.currentPos > 0) {\r\n                    scrollSetting.currentPos -= scrollSetting.scrollSpeed;\r\n                } else {\r\n                    return\r\n                }\r\n                if (scrollSetting.currentPos <= 0) {\r\n                    $(scrollSetting.childrenCategoryBlock).css({\"left\": \"0px\"});\r\n                    return\r\n                }\r\n                $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.currentPos + \"px\"})\r\n            }\r\n        }\r\n\r\n        $(\".headerNav__item\").hover(\r\n            function () {\r\n                // пришел\r\n                var w = screen.width;\r\n                if (w >= 1024) {\r\n                    initHscrool();\r\n                    $(scrollSetting.parentCategoryBlock).bind('mousewheel DOMMouseScroll', HScrollCategory);\r\n                }\r\n\r\n            },\r\n            function () {\r\n                // ушел\r\n                var w = screen.width;\r\n                if (w >= 1024) {\r\n                    $(scrollSetting.parentCategoryBlock).unbind('mousewheel DOMMouseScroll', HScrollCategory);\r\n                    $(\".accordion-tabs\").css({\"left\": \"0px\"});\r\n                }\r\n            });\r\n\r\n\r\n        $(\".productVariation__wrap\").niceScroll({\r\n            touchbehavior: true,\r\n            cursorcolor: \"transparent\",\r\n            cursorborder: \"0px solid transparent\"\r\n        });\r\n\r\n        $(window).resize(function () {\r\n            var w = screen.width;\r\n\r\n            if (w > 1024) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // проверяет есть ли у карточки с товаром ссылки на вариации\r\n        // если есть добавит градиент если общая ширина ссылок больше ширины контейнера\r\n        function addGradientBlock() {\r\n            var blockList = $(\".productVariation__wrap\");\r\n            for (var i = 0; i < blockList.length; i++) {\r\n                var elements = $(blockList[i]).find(\"li\");\r\n                var itemWidth = $(elements[0]).width() * $(elements).length;\r\n\r\n                if ($(elements).length != 0 && $(blockList[i]).width() < itemWidth) {\r\n                    if ($(blockList[i]).find(\".gradientBlock\").length == 1) continue\r\n                    $(blockList[i]).append(\"<div class='gradientBlock'></div>\");\r\n\r\n                } else {\r\n                    $(blockList[i]).find(\".gradientBlock\").remove()\r\n                }\r\n\r\n            }\r\n        };\r\n        addGradientBlock();\r\n\r\n        $(window).resize(function () {\r\n            addGradientBlock()\r\n        });\r\n\r\n        $(\".tile__wrapper--big\").on(\"click\", function (event) {\r\n            event.preventDefault();\r\n            var href = $(this).attr('href');\r\n            var video_content = '<iframe width=\"100%\" height=\"100%\" src=\"' + href + '\" frameborder=\"0\" allowfullscreen></iframe>';\r\n            $(this).empty()\r\n            $(this).append(video_content);\r\n\r\n\r\n        })\r\n\r\n    }\r\n);\r\n"],"file":"index.js"}