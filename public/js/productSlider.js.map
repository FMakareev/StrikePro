{"version":3,"names":[],"mappings":"","sources":["productSlider.js"],"sourcesContent":["$(document).ready(function () {\r\n    var elemList = $(\".colorTable__item img\");\r\n    var slideContainer = $(\".slider__wrap\");\r\n    var currentPosition = 0;\r\n    var widthStep;\r\n    var maxStep;\r\n\r\n    function init() {\r\n        var slider__item_array = [];\r\n        $(slideContainer).empty();\r\n        for (var i = 0; i < elemList.length; i++) {\r\n            var dataImg = JSON.parse($(elemList[i]).attr(\"data-data-img\"));\r\n\r\n            var li = $('<li class=\"slider__item\"></li>'),\r\n                link = $('<a href=\"\" class=\"slider__link\" data-data-img=\"\"></a>'),\r\n                img = $('<img src=\"\">');\r\n\r\n            $(img).attr('src', dataImg[\"0\"].smallIMG);\r\n            $(img).attr('data-data-img', JSON.stringify(dataImg));\r\n            $(link).append(img);\r\n            $(li).append(link);\r\n            slider__item_array.push(li);\r\n        }\r\n        $(slideContainer).append(slider__item_array);\r\n        console.log(slider__item_array);\r\n\r\n        widthStep = $('.colorTable__gallery--slider').outerWidth() / 6;\r\n        maxStep = (elemList.length * widthStep) - (widthStep * 6);\r\n\r\n        $(\".colorTable__gallery--title__name\").text($(\".product__title h1\").text());\r\n\r\n        $(\".slider__link img\").on(\"click\", function (event) {\r\n            event.preventDefault();\r\n            initVariation(this);\r\n        });\r\n\r\n        var $panzoom = $('.colorTable__gallery--img img').panzoom();\r\n        $panzoom.parent().on('mousewheel.focal', function (e) {\r\n            e.preventDefault();\r\n            var delta = e.delta || e.originalEvent.wheelDelta;\r\n            var zoomOut = delta ? delta < 0 : e.originalEvent.deltaY > 0;\r\n            $panzoom.panzoom('zoom', zoomOut, {\r\n                increment: 0.1,\r\n                animate: false,\r\n                focal: e\r\n            });\r\n        });\r\n    }\r\n\r\n    $(\".left\").on(\"click\", function () {\r\n\r\n        if (elemList.length <= 6) {\r\n            return\r\n        }\r\n\r\n        if (currentPosition <= 0) {\r\n            currentPosition = 0;\r\n            $(slideContainer).css({\r\n                \"transform\": \"translateX(-\" + currentPosition + \"px)\"\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        currentPosition -= widthStep;\r\n        $(slideContainer).css({\r\n            \"transform\": \"translateX(-\" + currentPosition + \"px)\"\r\n        });\r\n    });\r\n\r\n    $(\".right\").on(\"click\", function () {\r\n        console.log();\r\n        if (elemList.length <= 6) {\r\n            return\r\n        }\r\n        if (Math.round(currentPosition) == maxStep) {\r\n            currentPosition = maxStep;\r\n            $(slideContainer).css({\r\n                \"transform\": \"translateX(-\" + currentPosition + \"px)\"\r\n            });\r\n            return;\r\n        }\r\n        currentPosition += widthStep;\r\n        $(slideContainer).css({\r\n            \"transform\": \"translateX(-\" + currentPosition + \"px)\"\r\n        });\r\n    });\r\n\r\n\r\n    function initVariation(elem) {\r\n        var imgData = jQuery.parseJSON($(elem).attr(\"data-data-img\"));\r\n        console.log(imgData);\r\n        var wrapperVariation = $('.colorTable__gallery--variation');\r\n        var containerVariation = $('ul.variation__list');\r\n        var liArray = [];\r\n        $(containerVariation).empty();\r\n        if (imgData.length > 1) {\r\n            for (var i = 0; i < imgData.length; i++) {\r\n                var li = $('<li class=\"variation__item\"></li>');\r\n                var img = $('<img src=\"\">');\r\n                $(img).attr('src', imgData[i].smallIMG);\r\n                $(img).attr('data-data-img', JSON.stringify(imgData[i]));\r\n                $(li).append(img);\r\n                liArray.push(li);\r\n            }\r\n            $(containerVariation).append(liArray);\r\n            $(wrapperVariation).addClass('active');\r\n            initCharacteristicsImg(imgData[0]);\r\n            initBigImg(imgData[0]);\r\n            $('li.variation__item img').on('click', function () {\r\n                initCharacteristicsImg(jQuery.parseJSON($(this).attr('data-data-img')));\r\n                initBigImg(jQuery.parseJSON($(this).attr('data-data-img')))\r\n            });\r\n\r\n        } else {\r\n            $(wrapperVariation).removeClass('active');\r\n        }\r\n    }\r\n\r\n    function initBigImg(obj) {\r\n        $(\".colorTable__gallery--img img\").attr(\"src\", obj.bigIMG);\r\n    }\r\n\r\n    function initCharacteristicsImg(obj) {\r\n        console.log(obj);\r\n        var container = $('.characteristics__list');\r\n        var imgData = obj.data;\r\n        console.log(imgData);\r\n        var charList = [];\r\n        $(container).empty();\r\n        for (var i = 0; i < imgData.length; i++) {\r\n            var char = '<li class=\"characteristics__item\">' +\r\n                '<span class=\"characteristics__title\">' + imgData[i].title + '</span>' +\r\n                '<span class=\"characteristics__desc\">' + imgData[i].data + '</span>' +\r\n                '</li>';\r\n            charList.push(char);\r\n        }\r\n        $(container).append(charList);\r\n    }\r\n\r\n    // open popup\r\n    $(elemList).on(\"click\", function (event) {\r\n        var windowSize = window.innerWidth;\r\n        if (windowSize >= 768) {\r\n            console.log(this);\r\n            // $(\".colorTable__gallery--img img\").attr(\"src\", $(this).attr(\"src\"));\r\n\r\n            initVariation(this);\r\n            // createCharacteristicsImg(this);\r\n            // createAltImgList(this);\r\n\r\n            $(\".colorTable__gallery--wrapper\").show();\r\n\r\n            $(\"body\").css({\r\n                \"overflow\": \"hidden\"\r\n            });\r\n\r\n            return init();\r\n            if ($(this).index() >= (elemList.length - 5)) {\r\n                currentPosition = widthStep * ($(this).index() - 5);\r\n            } else {\r\n                currentPosition = widthStep * $(this).index();\r\n            }\r\n            $(slideContainer).css({\r\n                \"transform\": \"translateX(-\" + currentPosition + \"px)\"\r\n            });\r\n        }\r\n    });\r\n\r\n\r\n    $(\".js-btn3D\").on(\"click\", function () {\r\n        $(\".product__stand .img_2d\").hide();\r\n        $(\"#image-reel\").show()\r\n    });\r\n\r\n    $(\".product__sliderImg ul li a\").on('click', function (event) {\r\n        event.preventDefault();\r\n        $(\"#image-reel\").hide();\r\n        $(\".product__stand .img_2d\").show();\r\n        $(\".product__stand .img_2d\").attr(\"src\", $(this).attr(\"href\"));\r\n    });\r\n\r\n    $(window).resize(function () {\r\n        var k = 500 / 304;\r\n        var w = screen.width;\r\n\r\n        if (w < 500) {\r\n            $('.product__stand').height($('.product__stand').width() / k);\r\n        }\r\n    });\r\n\r\n    function colorTable_item_slider() {\r\n        var colorTable__item = $('.colorTable__item'),\r\n            colorTable__item_length = colorTable__item.length;\r\n\r\n        for (var i = 0; i < colorTable__item_length; i++) {\r\n            var slide__array = [],\r\n                slider__data = JSON.parse($(colorTable__item[i]).find('img').attr('data-data-img')),\r\n                class__nav = \".custom-navigation-\"+i+\" a\";\r\n\r\n            if (slider__data.length > 1) {\r\n                var slider__wrap = document.createElement('div'),\r\n                    slider__list = document.createElement('ul');\r\n                $(slider__wrap).addClass('slider-' + i);\r\n                $(slider__list).addClass('slides');\r\n                console.log(slider__data.length);\r\n                for (var a = 0; a < slider__data.length; a++) {\r\n                    var li = document.createElement('li'),\r\n                        img = document.createElement('img'),\r\n                        span = document.createElement('span');\r\n\r\n                    $(span).text(slider__data[a].data[0].data);\r\n                    $(img).attr('src', slider__data[a].bigIMG);\r\n                    $(li).append(img);\r\n                    $(li).append(span);\r\n                    slide__array.push(li)\r\n                }\r\n\r\n                $(slider__list).append(slide__array);\r\n                $(slider__wrap).append(slider__list);\r\n                $(slider__wrap).append('<div class=\"flex-direction-nav '+\"custom-navigation-\"+i+'\">' +\r\n                    '<a href=\"#\" class=\"flex-prev\">' +\r\n                    '<svg><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg_arrow\" class=\"caret__arrow\"></use></svg>'+\r\n                    '</a>' +\r\n                    '<a href=\"#\" class=\"flex-next\">' +\r\n                    '<svg><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg_arrow\" class=\"caret__arrow\"></use></svg>'+\r\n                    '</a>' +\r\n                    '</div>');\r\n                $(colorTable__item[i]).empty();\r\n                $(colorTable__item[i]).append(slider__wrap);\r\n                $(slider__wrap);\r\n\r\n                $(slider__wrap).flexslider({\r\n                    animation: \"slide\",\r\n                    slideshow: false,\r\n                    touch: true,\r\n                    directionNav: true,\r\n                    controlNav: false,\r\n                    customDirectionNav: $(class__nav)\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    var windowSize = window.innerWidth;\r\n    if (windowSize < 768) {\r\n\r\n        colorTable_item_slider();\r\n    }\r\n\r\n});\r\n\r\n\r\n// <div class=\"flexslider\">\r\n//     <ul class=\"slides\">\r\n//          <li>\r\n//              <img src=\"slide1.jpg\" />\r\n//          </li>\r\n//          <li>\r\n//              <img src=\"slide2.jpg\" />\r\n//          </li>\r\n//          <li>\r\n//              <img src=\"slide3.jpg\" />\r\n//          </li>\r\n//          <li>\r\n//              <img src=\"slide4.jpg\" />\r\n//          </li>\r\n//          </ul>\r\n//     </div>\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"productSlider.js"}